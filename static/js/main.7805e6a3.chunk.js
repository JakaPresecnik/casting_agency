(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(20),a=n.n(r),s=n(10),o=(n(33),n(2)),i=n(5),l=(n.p,n(34),n(35),n(36),n(0));var j=function(){var e=Object(s.b)(),t=e.isAuthenticated,n=e.logout;return t&&Object(l.jsx)("button",{onClick:function(){n({returnTo:window.location.origin})},children:"Log out"})};var u=function(){var e=Object(s.b)(),t=e.user,n=e.isAuthenticated,c=e.loginWithRedirect;return Object(l.jsxs)("nav",{children:[Object(l.jsxs)("ul",{children:[Object(l.jsx)(o.c,{to:"/",exact:!0,activeClassName:"selected",children:Object(l.jsx)("li",{children:"Home"})}),n&&Object(l.jsx)(o.c,{to:"/movies",activeClassName:"selected",children:Object(l.jsx)("li",{children:"Movies"})}),n&&Object(l.jsx)(o.c,{to:"/actors",activeClassName:"selected",children:Object(l.jsx)("li",{children:"Actors"})})]}),Object(l.jsxs)("div",{className:"dropdown",children:[n&&Object(l.jsx)("img",{className:"dropdown-pic",src:t.picture,alt:"Avatar of ".concat(t.name)}),Object(l.jsx)("div",{className:"dropdown-content",children:n?Object(l.jsx)(j,{}):Object(l.jsx)("button",{onClick:function(){return c()},children:"Log in"})})]}),Object(l.jsxs)("div",{className:"userboard",children:[n&&Object(l.jsx)("img",{className:"dropdown-pic",src:t.picture,alt:"Avatar of ".concat(t.name)}),n?Object(l.jsx)(j,{}):Object(l.jsx)("button",{onClick:function(){return c()},children:"Log in"})]})]})};function d(){return Object(l.jsxs)("div",{className:"no-match",children:[Object(l.jsx)("h1",{children:"404"}),Object(l.jsx)("p",{children:"Page Not found."}),Object(l.jsx)(o.b,{to:"/",children:"HOME"})]})}var b=function(){return Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"Casting Agency"}),Object(l.jsx)("div",{className:"home-paragraph",children:Object(l.jsxs)("p",{children:["This is just a simple sample frontend. Because I have NO IDEA or any motivation to know anything about what goes on in this types of jobs (casting agencies), the frontend is looking the way it does. But I got it made anyways.",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Main focus is backend and thats it. I just wanted to connect frontend made with React to Python backend with authorization functionality :)"]})})]})},h=n(4),O=n.n(h),x=n(7),p=n(3),m=function(e){var t=new Date(e),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],c=t.getDate(),r=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getFullYear();return"".concat(n," ").concat(c," ").concat(r," ").concat(a)};var f=function(){var e=Object(s.b)().getAccessTokenSilently,t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),j=Object(p.a)(i,2),u=j[0],d=j[1],b=Object(c.useState)(null),h=Object(p.a)(b,2),f=h[0],v=h[1],g=Object(c.useState)(1),y=Object(p.a)(g,2),w=y[0],k=y[1];Object(c.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n,c,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e({audience:"casting_agency"});case 3:return n=t.sent,d(n),t.next=7,fetch("/movies?page="+w,{headers:{Authorization:"Bearer ".concat(n)}});case 7:return c=t.sent,t.next=10,c.json();case 10:r=t.sent,a(r),console.log(r),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}),[e,f,w]);var N=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/movies/"+t,{method:"DELETE",headers:{Authorization:"Bearer ".concat(u)}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,v(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return f?f.success?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"Deleted!"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(e){return v(null)},className:"update",children:"Back"})]}):Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:f.error}),Object(l.jsx)("h2",{children:f.message}),Object(l.jsx)("button",{onClick:function(e){return v(null)},className:"update",children:"Back"})]}):r?r.error&&404===r.error?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"There are no movies in the database"}),Object(l.jsx)("p",{children:"Please add some or contact your producer."}),Object(l.jsx)(o.b,{to:{pathname:"/newmovie",query:{token:u}},children:Object(l.jsx)("button",{className:"new",children:"Create new Movie"})})]}):r.error?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:r.error}),Object(l.jsx)("h2",{children:r.message})]}):Object(l.jsxs)("section",{children:[r.movies.map((function(e){return Object(l.jsxs)("div",{className:"movies",children:[Object(l.jsx)("h3",{children:e.title}),Object(l.jsxs)("p",{children:["ID: ",Object(l.jsx)("strong",{children:e.id})]}),Object(l.jsxs)("p",{children:["Release date: ",Object(l.jsx)("strong",{children:m(e.release_date)})]}),Object(l.jsx)(o.b,{to:{pathname:"/updatemovie/"+e.id,query:{token:u,id:e.id,title:e.title,releaseDate:e.release_date}},children:Object(l.jsx)("button",{className:"update",children:"Update"})}),Object(l.jsx)("button",{onClick:function(){return N(e.id)},className:"delete",children:"Delete"})]},e.id)})),Object(l.jsx)("div",{className:"pagination-menu",children:function(){for(var e=[],t=Math.ceil(r.length/3),n=function(t){e.push(Object(l.jsx)("span",{className:"page-num ".concat(t===w?"active":""),onClick:function(){k(t)},children:t},t))},c=1;c<=t;c++)n(c);return e}()}),Object(l.jsx)(o.b,{to:{pathname:"/newmovie",query:{token:u}},children:Object(l.jsx)("button",{className:"new",children:"Create new Movie"})})]}):Object(l.jsx)("section",{children:"Loading ..."})};var v=function(){var e=Object(s.b)().getAccessTokenSilently,t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),j=Object(p.a)(i,2),u=j[0],d=j[1],b=Object(c.useState)(null),h=Object(p.a)(b,2),m=h[0],f=h[1],v=Object(c.useState)(1),g=Object(p.a)(v,2),y=g[0],w=g[1];Object(c.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n,c,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e({audience:"casting_agency"});case 3:return n=t.sent,d(n),t.next=7,fetch("/actors?page="+y,{headers:{Authorization:"Bearer ".concat(n)}});case 7:return c=t.sent,t.next=10,c.json();case 10:r=t.sent,a(r),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}),[e,m]);var k=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/actors/"+t,{method:"DELETE",headers:{Authorization:"Bearer ".concat(u)}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,f(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return m?m.success?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"Deleted!"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(e){return f(null)},className:"update",children:"Back"})]}):Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:m.error}),Object(l.jsx)("h2",{children:m.message}),Object(l.jsx)("button",{onClick:function(e){return f(null)},className:"update",children:"Back"})]}):r?r.error&&404===r.error?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"There are no actors in the database"}),Object(l.jsx)("p",{children:"Please add some or contact your producer."}),Object(l.jsx)(o.b,{to:{pathname:"/newactor",query:{token:u}},children:Object(l.jsx)("button",{className:"new",children:"Create new Actor"})})]}):r.error?Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:r.error}),Object(l.jsx)("h2",{children:r.message})]}):Object(l.jsxs)("section",{children:[r.actors.map((function(e){return Object(l.jsxs)("div",{className:"movies",children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsxs)("p",{children:["ID: ",Object(l.jsx)("strong",{children:e.id})]}),Object(l.jsxs)("p",{children:["Age: ",Object(l.jsx)("strong",{children:e.age})]}),Object(l.jsxs)("p",{children:["Gender: ",Object(l.jsx)("strong",{children:e.gender})]}),Object(l.jsx)(o.b,{to:{pathname:"/updateactor/"+e.id,query:{token:u,id:e.id,name:e.name,age:e.age,gender:e.gender}},children:Object(l.jsx)("button",{className:"update",children:"Update"})}),Object(l.jsx)("button",{onClick:function(){return k(e.id)},className:"delete",children:"Delete"})]},e.id)})),Object(l.jsx)("div",{className:"pagination-menu",children:function(){for(var e=[],t=Math.ceil(r.length/3),n=function(t){e.push(Object(l.jsx)("span",{className:"page-num ".concat(t===y?"active":""),onClick:function(){w(t)},children:t},t))},c=1;c<=t;c++)n(c);return e}()}),Object(l.jsx)(o.b,{to:{pathname:"/newactor",query:{token:u}},children:Object(l.jsx)("button",{className:"new",children:"Create new Actor"})})]}):Object(l.jsx)("section",{children:"Loading ..."})};var g=function(e){var t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(null),i=Object(p.a)(s,2),j=i[0],u=i[1],d=Object(c.useState)(null),b=Object(p.a)(d,2),h=b[0],m=b[1],f=function(){var t=Object(x.a)(O.a.mark((function t(n){var c,a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.location.query.token,t.prev=2,t.next=5,fetch("/movies",{method:"POST",headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({title:r,release_date:j})});case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,m(s),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return h?h.success?Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Created!"}),Object(l.jsxs)("p",{children:[h.new_movie.title," was created."]}),Object(l.jsxs)("p",{children:["Relese date on: ",h.new_movie.release_date]}),Object(l.jsx)(o.b,{to:"/movies",children:Object(l.jsx)("button",{children:"Back to movies"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:h.error}),Object(l.jsx)("p",{children:h.message}),Object(l.jsx)(o.b,{to:"/movies",children:Object(l.jsx)("button",{children:"Back to movies"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Create new Movie"}),Object(l.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),a(e.target.value)}(e)},id:"title",type:"text",placeholder:"Title"}),Object(l.jsx)("label",{htmlFor:"releaseDate",children:"Release Date:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),u(e.target.value)}(e)},id:"releaseDate",type:"date",placeholder:"Release Date"}),Object(l.jsx)("button",{disabled:!r||!j,children:"CREATE"})]})]})};var y=function(e){var t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(null),i=Object(p.a)(s,2),j=i[0],u=i[1],d=Object(c.useState)(null),b=Object(p.a)(d,2),h=b[0],m=b[1],f=Object(c.useState)(null),v=Object(p.a)(f,2),g=v[0],y=v[1],w=function(){var t=Object(x.a)(O.a.mark((function t(n){var c,a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.location.query.token,t.prev=2,t.next=5,fetch("/actors",{method:"POST",headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({name:r,age:j,gender:h})});case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,y(s),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return g?g.success?Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Created!"}),Object(l.jsxs)("p",{children:[g.new_actor.name," was created."]}),Object(l.jsxs)("p",{children:["Age: ",g.new_actor.age,", Gender: ",g.new_actor.gender]}),Object(l.jsx)(o.b,{to:"/actors",children:Object(l.jsx)("button",{children:"Back to Actors"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:g.error}),Object(l.jsx)("p",{children:g.message}),Object(l.jsx)(o.b,{to:"/actors",children:Object(l.jsx)("button",{children:"Back to actors"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"List a new Actor"}),Object(l.jsxs)("form",{onSubmit:function(e){return w(e)},children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),a(e.target.value)}(e)},id:"name",type:"text",placeholder:"Full Name"}),Object(l.jsx)("label",{htmlFor:"age",children:"Age:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),u(e.target.value)}(e)},id:"age",type:"text",placeholder:"Age"}),Object(l.jsx)("label",{htmlFor:"gender",children:"Gender:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),m(e.target.value)}(e)},id:"gender",type:"text",placeholder:"Gender"}),Object(l.jsx)("button",{disabled:!r||!j||!h,children:"CREATE"})]})]})};var w=function(e){var t=Object(c.useState)(e.location.query.name),n=Object(p.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(e.location.query.age),i=Object(p.a)(s,2),j=i[0],u=i[1],d=Object(c.useState)(e.location.query.gender),b=Object(p.a)(d,2),h=b[0],m=b[1],f=Object(c.useState)(null),v=Object(p.a)(f,2),g=v[0],y=v[1],w=function(){var t=Object(x.a)(O.a.mark((function t(n,c){var a,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.location.query.token,t.prev=2,t.next=5,fetch("/actors/"+c,{method:"PATCH",headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({name:r!==e.location.query.name?r:null,age:j!==e.location.query.age?j:null,gender:h!==e.location.query.gender?h:null})});case 5:return s=t.sent,t.next=8,s.json();case 8:o=t.sent,y(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}();return g?g.success?Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Updated!"}),Object(l.jsxs)("p",{children:[g.updated_actor.name," was updated."]}),Object(l.jsxs)("p",{children:["Age: ",g.updated_actor.age,", Gender: ",g.updated_actor.gender]}),Object(l.jsx)(o.b,{to:"/actors",children:Object(l.jsx)("button",{children:"Back to Actors"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:g.error}),Object(l.jsx)("p",{children:g.message}),Object(l.jsx)(o.b,{to:"/actors",children:Object(l.jsx)("button",{children:"Back to actors"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Update Actor"}),Object(l.jsxs)("form",{onSubmit:function(t){return w(t,e.location.query.id)},children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),a(e.target.value)}(e)},id:"name",type:"text",value:r,placeholder:"Full Name"}),Object(l.jsx)("label",{htmlFor:"age",children:"Age:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),u(e.target.value)}(e)},id:"age",type:"text",value:j,placeholder:"Age"}),Object(l.jsx)("label",{htmlFor:"gender",children:"Gender:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),m(e.target.value)}(e)},id:"gender",type:"text",value:h,placeholder:"Gender"}),Object(l.jsx)("button",{disabled:!r||!j||!h,children:"UPDATE"})]})]})};var k=function(e){var t=Object(c.useState)(e.location.query.title),n=Object(p.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(e.location.query.releaseDate),i=Object(p.a)(s,2),j=i[0],u=i[1],d=Object(c.useState)(null),b=Object(p.a)(d,2),h=b[0],m=b[1],f=function(){var t=Object(x.a)(O.a.mark((function t(n,c){var a,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.location.query.token,t.prev=2,t.next=5,fetch("/movies/"+c,{method:"PATCH",headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({title:r!==e.location.query.title?r:null,release_date:j!==e.location.query.releaseDate?j:null})});case 5:return s=t.sent,t.next=8,s.json();case 8:o=t.sent,m(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}();return h?h.success?Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Updated!"}),Object(l.jsxs)("p",{children:[h.updated_movie.title," was updated."]}),Object(l.jsxs)("p",{children:["Relese date on: ",h.updated_movie.release_date]}),Object(l.jsx)(o.b,{to:"/movies",children:Object(l.jsx)("button",{children:"Back to Movies"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:h.error}),Object(l.jsx)("p",{children:h.message}),Object(l.jsx)(o.b,{to:"/movies",children:Object(l.jsx)("button",{children:"Back to Movies"})})]}):Object(l.jsxs)("section",{className:"form-new",children:[Object(l.jsx)("h2",{children:"Update Movie"}),Object(l.jsxs)("form",{onSubmit:function(t){return f(t,e.location.query.id)},children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),a(e.target.value)}(e)},id:"title",value:r,type:"text",placeholder:"Title"}),Object(l.jsx)("label",{htmlFor:"releaseDate",children:"Release Date:"}),Object(l.jsx)("input",{onChange:function(e){return function(e){e.preventDefault(),u(e.target.value)}(e)},id:"releaseDate",value:j,type:"date",placeholder:"Release Date"}),Object(l.jsx)("button",{disabled:!r||!j,children:"UPDATE"})]})]})};var N=function(){return Object(s.b)().isLoading?Object(l.jsx)("section",{children:"Loading ..."}):Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/casting_agency",exact:!0,component:b}),Object(l.jsx)(i.a,{path:"/casting_agency/movies",exact:!0,component:f}),Object(l.jsx)(i.a,{path:"/casting_agency/actors",component:v}),Object(l.jsx)(i.a,{path:"/casting_agency/newmovie",component:g}),Object(l.jsx)(i.a,{path:"/casting_agency/newactor",component:y}),Object(l.jsx)(i.a,{path:"/casting_agency/updateactor/:id",component:w}),Object(l.jsx)(i.a,{path:"/casting_agency/updatemovie/:id",component:k}),Object(l.jsx)(i.a,{component:d})]})]})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};a.a.render(Object(l.jsx)(s.a,{domain:"dev-bfn-8r1t.eu.auth0.com",clientId:"5tHDsFBmk1BCUrvSvJS4DAmHYLoych1E",redirectUri:window.location.origin,audience:"casting_agency",children:Object(l.jsx)(N,{})}),document.getElementById("root")),D()}},[[43,1,2]]]);
//# sourceMappingURL=main.7805e6a3.chunk.js.map